<?xml version="1.0" encoding="UTF-8"?><sqlb_project><db path="DBSuap.db" readonly="0" foreign_keys="1" case_sensitive_like="0" temp_store="0" wal_autocheckpoint="1000" synchronous="2"/><attached/><window><main_tabs open="structure browser pragmas query" current="1"/></window><tab_structure><column_width id="0" width="300"/><column_width id="1" width="0"/><column_width id="2" width="100"/><column_width id="3" width="2102"/><column_width id="4" width="0"/><expanded_item id="0" parent="1"/><expanded_item id="1" parent="1"/><expanded_item id="2" parent="1"/><expanded_item id="3" parent="1"/></tab_structure><tab_browse><table title="Nota" custom_title="0" dock_id="3" table="4,4:mainNota"/><dock_state state="000000ff00000000fd00000001000000020000043c000002e6fc0100000003fb000000160064006f0063006b00420072006f00770073006500310100000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f00770073006500320100000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f007700730065003301000000000000043c0000011e00ffffff0000043c0000000000000004000000040000000800000008fc00000000"/><default_encoding codec=""/><browse_table_settings><table schema="main" name="Aluno" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="54"/><column index="2" value="216"/><column index="3" value="145"/><column index="4" value="168"/><column index="5" value="221"/><column index="6" value="116"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Aluno_Materia" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="54"/><column index="2" value="69"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Materia" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="62"/><column index="2" value="156"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Materia_Professor" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="64"/><column index="2" value="73"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Nota" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="44"/><column index="2" value="52"/><column index="3" value="64"/><column index="4" value="73"/><column index="5" value="61"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Professor" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="71"/><column index="2" value="57"/><column index="3" value="67"/><column index="4" value="223"/><column index="5" value="70"/><column index="6" value="231"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Professor_Aluno" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="46"/><column index="2" value="52"/><column index="3" value="64"/><column index="4" value="73"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="sqlite_sequence" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="78"/><column index="2" value="29"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table></browse_table_settings></tab_browse><tab_sql><sql name="SQL 1">DROP TABLE IF EXISTS Aluno;
  CREATE TABLE Aluno (
  alunoid		INTEGER 			PRIMARY KEY   AUTOINCREMENT,
  prontuario 	VARCHAR(10)			NOT NULL,
  nome			VARCHAR(30)			NOT NULL,
  sobrenome		VARCHAR(50)			NOT NULL,			
  email		 	VARCHAR(318)		NOT NULL,
  curso			VARCHAR(100)		NOT NULL
);

DROP TABLE IF EXISTS Professor;
  CREATE TABLE Professor (
  professorid	INTEGER 			PRIMARY KEY  AUTOINCREMENT,
  titulacao		VARCHAR(10)			NOT NULL,
  prontuario	VARCHAR(10)			NOT NULL,
  nome 			VARCHAR(30)			NOT NULL,	
  sobrenome	 	VARCHAR(50)			NOT NULL,		
  email			VARCHAR(318)		NOT NULL
);

DROP TABLE IF EXISTS Materia;
  CREATE TABLE Materia (
  materiaid		INTEGER 			PRIMARY KEY   AUTOINCREMENT,
  nome			VARCHAR(100)		NOT NULL
);

DROP TABLE IF EXISTS Nota;
  CREATE TABLE Nota(
  notaid		INTEGER 			PRIMARY KEY   AUTOINCREMENT,
  alunoid		INT 				NOT NULL,
  materiaid 	INT					NOT NULL,
  professorid	INT					NOT NULL,
  valornota		NUMERIC				NOT NULL,
  FOREIGN KEY (alunoid) REFERENCES Aluno (alunoid),
  FOREIGN KEY (professorid) REFERENCES Professor (professorid),
  FOREIGN KEY (materiaid) REFERENCES Materia (materiaid)
);

DROP TABLE IF EXISTS Aluno_Materia;
  CREATE TABLE Aluno_Materia(
  alunoid		INT,
  materiaid		INT					NOT NULL,
  FOREIGN KEY (alunoid) REFERENCES Aluno(alunoid),
  FOREIGN KEY (materiaid) REFERENCES Materia(materiaid)
);

DROP TABLE IF EXISTS Materia_Professor;
  CREATE TABLE Materia_Professor (
  materiaid				INT,
  professorid			INT,
  FOREIGN KEY (materiaid) REFERENCES Materia(materiaid),
  FOREIGN KEY (professorid) REFERENCES Professor(professorid)
  );

  
SELECT CONCAT(p.nome + ' ' + p.sobrenome), p.titulacao, p.email
FROM Professor p;

SELECT CONCAT(a.nome + ' ' + a.sobrenome), a.curso, a.email, a.prontuario
FROM Aluno a;

SELECT CONCAT(p.nome + ' ' + p.sobrenome) AS &quot;Professor e Materias:&quot;
FROM Professor p
JOIN Materia_Professor mp ON p.professorid = mp.professorid 
JOIN Materia m ON mp.materiaid = m.materiaid;

SELECT CONCAT(a.nome + ' ' + a.sobrenome) AS &quot;Calculo&quot;
FROM Aluno a
JOIN Aluno_Materia am ON a.alunoid = am.alunoid
JOIN Materia m ON am.materiaid = m.materiaid
WHERE m.nome = 'calculo';

SELECT CONCAT(a.nome + ' ' + a.sobrenome) AS &quot;Alunos nota:&quot;
FROM Aluno a
JOIN Nota n ON a.alunoid = n.alunoid 
JOIN Professor p ON p.professorid = n.professorid;
</sql><current_tab id="0"/></tab_sql></sqlb_project>
